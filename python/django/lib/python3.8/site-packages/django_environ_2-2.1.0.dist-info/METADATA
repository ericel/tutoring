Metadata-Version: 2.1
Name: django-environ-2
Version: 2.1.0
Summary: Configure Django made easy.
Home-page: https://django-environ-2.readthedocs.io
Author: Daniele Faraglia
Author-email: daniele.faraglia@gmail.com
Maintainer: Serghei Iakovlev
Maintainer-email: egrep@protonmail.ch
License: MIT
Project-URL: Documentation, https://django-environ-2.readthedocs.io
Project-URL: Changelog, https://django-environ-2.readthedocs.io/en/latest/changelog.html
Project-URL: Bug Tracker, https://github.com/sergeyklay/django-environ-2/issues
Project-URL: Source Code, https://github.com/sergeyklay/django-environ-2
Keywords: environment,django,variables,12factor
Platform: any
Classifier: Development Status :: 5 - Production/Stable
Classifier: Framework :: Django
Classifier: Framework :: Django :: 1.11
Classifier: Framework :: Django :: 2.0
Classifier: Framework :: Django :: 2.1
Classifier: Framework :: Django :: 2.2
Classifier: Framework :: Django :: 3.0
Classifier: Framework :: Django :: 3.1
Classifier: Framework :: Django :: 3.2
Classifier: Operating System :: OS Independent
Classifier: Intended Audience :: Developers
Classifier: Natural Language :: English
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.6
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: Implementation :: CPython
Classifier: Programming Language :: Python :: Implementation :: PyPy
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: Topic :: Utilities
Classifier: License :: OSI Approved :: MIT License
Requires-Python: >=3.6, <4
Description-Content-Type: text/x-rst
License-File: LICENSE
Provides-Extra: develop
Requires-Dist: coverage[toml] (>=5.0.2) ; extra == 'develop'
Requires-Dist: pytest (>=6.2.0) ; extra == 'develop'
Requires-Dist: furo (==2020.12.*,>=2020.12.30b24) ; extra == 'develop'
Requires-Dist: sphinx (>=3.5.0) ; extra == 'develop'
Requires-Dist: sphinx-notfound-page ; extra == 'develop'
Provides-Extra: docs
Requires-Dist: furo (==2020.12.*,>=2020.12.30b24) ; extra == 'docs'
Requires-Dist: sphinx (>=3.5.0) ; extra == 'docs'
Requires-Dist: sphinx-notfound-page ; extra == 'docs'
Provides-Extra: testing
Requires-Dist: coverage[toml] (>=5.0.2) ; extra == 'testing'
Requires-Dist: pytest (>=6.2.0) ; extra == 'testing'

============================================
django-environ-2: Configure Django made easy
============================================


``django-environ-2`` is the Python package that allows you to use
`Twelve-factor methodology <http://www.12factor.net/>`_ to configure your
Django application with environment variables.

.. teaser-end

For that, it gives you an easy way to configure Django application using
environment variables obtained from an environment file and provided by the OS:

.. -code-begin-

.. code-block:: python

   import environ
   import os

   env = environ.Env(
       # set casting, default value
        DEBUG=(bool, False)
   )

   # Set the project base directory
   BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))

   # Take environment variables from .env file
   environ.Env.read_env(os.path.join(BASE_DIR, '.env'))

   # False if not in os.environ because of casting above
   DEBUG = env('DEBUG')

   # Raises Django's ImproperlyConfigured
   # exception if SECRET_KEY not in os.environ
   SECRET_KEY = env('SECRET_KEY')

   # Parse database connection url strings
   # like psql://user:pass@127.0.0.1:8458/db
   DATABASES = {
       # read os.environ['DATABASE_URL'] and raises
       # ImproperlyConfigured exception if not found
       #
       # The db() method is an alias for db_url().
       'default': env.db(),

       # read os.environ['SQLITE_URL']
       'extra': env.db_url(
           'SQLITE_URL',
           default='sqlite:////tmp/my-tmp-sqlite.db'
       )
   }

   CACHES = {
       # Read os.environ['CACHE_URL'] and raises
       # ImproperlyConfigured exception if not found.
       #
       # The cache() method is an alias for cache_url().
       'default': env.cache(),

       # read os.environ['REDIS_URL']
       'redis': env.cache_url('REDIS_URL')
   }

.. -overview-

The idea of this package is to unify a lot of packages that make the same stuff:
Take a string from ``os.environ``, parse and cast it to some of useful python
typed variables. To do that and to use the `12factor <http://www.12factor.net/>`_
approach, some connection strings are expressed as url, so this package can parse
it and return a ``urllib.parse.ParseResult``. These strings from ``os.environ``
are loaded from a ``.env`` file and filled in ``os.environ`` with ``setdefault``
method, to avoid to overwrite the real environ.
A similar approach is used in `Two Scoops of Django <http://twoscoopspress.org/>`_
book and explained in `12factor-django <http://www.wellfireinteractive.com/blog/easier-12-factor-django/>`_
article.

Using ``django-environ-2`` you can stop to make a lot of unversioned
``settings_*.py`` to configure your app.
See `cookiecutter-django <https://github.com/pydanny/cookiecutter-django>`_ for
a concrete example on using with a Django project.

Feature Support:

* Fast and easy multi environment for deploy
* Fill ``os.environ`` with .env file variables
* Variables casting
* Url variables exploded to Django specific package settings

.. -project-information-

Project Information
===================

``django-environ-2`` was forked from the `django-environ <https://github.com/joke2k/django-environ>`_
initially written by `Daniele Faraglia <https://github.com/joke2k>`_ to breathe
new life into it and set a more dynamic pace of development.

``django-environ-2`` is released under the `MIT / X11 License <https://choosealicense.com/licenses/mit/>`__,
its documentation lives at `Read the Docs <https://django-environ-2.readthedocs.io/>`_,
the code on `GitHub <https://github.com/sergeyklay/django-environ-2>`_,
and the latest release on `PyPI <https://pypi.org/project/django-environ-2/>`_.

Itâ€™s rigorously tested on Python 3.6+, and officially supports
Django 1.11, 2.2, 3.0, 3.1 and 3.2.

If you'd like to contribute to ``django-environ-2`` you're most welcome!

.. -support-

Support
=======

Should you have any question, any remark, or if you find a bug, or if there is
something you can't do with the ``django-environ-2``, please
`open an issue <https://github.com/sergeyklay/django-environ-2/issues>`_.

.. -similar-projects-

Similar projects
================

There are some projects similar to ``django-environ-2`` you may be interested in:

* `django-configurations <https://github.com/jezdez/>`_
* `django-dotenv <https://github.com/jpadilla/django-dotenv>`_
* `django-environ <https://github.com/joke2k/django-environ>`_
* `dump-env <https://github.com/sobolevn/dump-env>`_
* `dynaconf <https://github.com/rochacbruno/dynaconf>`_
* `environs <https://github.com/sloria/environs>`_
* `honcho <https://github.com/nickstenning/honcho>`_
* `python-dotenv <https://github.com/theskumar/python-dotenv>`_


Contributing
============

If you would like to contribute to ``django-environ-2``, please take a look at the
`current issues <https://github.com/sergeyklay/django-environ-2/issues>`_.
If there is a bug or feature that you want but it isn't listed, make an issue
and work on it.


Release Information
===================

2.1.0 (2021-05-29)
------------------


Breaking Changes
^^^^^^^^^^^^^^^^

* Removed no longer needed ``Env.unicode()`` shortcut.
* Removed no longer needed ``simplejson`` from the ``compat`` module.
* Removed "filthy magic stack backtracking" in favor of ``django.BASE_DIR``.
  Now ``Env.read_env()`` expects a path to the ``.env`` file. If one is not provided,
  it will attempt to use the ``django.BASE_DIR`` constant from the Django settings
  module. If an ImportError is encountered while it attempts to do this,
  ``Env.read_env()`` will assume there's no ``.env`` file to be found, log a
  WARN-level log message to that effect, and continue on.
* Make ``Env.read_env()``'s ``overrides`` argument actually override variables.
* Disabled proxy variable feature by default.


Features
^^^^^^^^

* Allows use of ``pathlib.Path`` objects when reading env from the filesystem.
  This enables use of ``env.read_env(BASE_DIR / '.env')`` instead of
  ``read_env(os.path.join(BASE_DIR, '.env'))``.
* Added support for negative float strings.
* Added ability to overwrite existing environment variables in ``read_env()``.


Improvements
^^^^^^^^^^^^

* Changed additional groups of dependencies declared in ``setup.py`` so that
  ``develop`` is superset now for ``testing`` and ``docs``.


Bug Fixes
^^^^^^^^^

* Added missed files to the package contents.
* Don't include ``tests`` package in wheel. Previously ``pip install django-environ-2``
  used to install a top-level package ``tests``. This was fixed.
* Fixed ``db_url_config`` to work the same for all postgres aliases.

`Full changelog <https://django-environ-2.readthedocs.io/en/latest/changelog.html>`_.

Security Policy
===============


Reporting a Vulnerability
-------------------------

If you discover a security vulnerability within ``django-environ-2``, please
send an e-mail to Serghei Iakovlev via egrep@protonmail.ch. All security
vulnerabilities will be promptly addressed.


Credits
=======

``django-environ-2`` was forked from ``django-environ`` and currently maintained
by `Serghei Iakovlev <https://github.com/sergeyklay/>`_.
Original ``django-environ`` was written by `Daniele Faraglia <https://github.com/joke2k>`_.
A full list of contributors can be found in GitHub:

* `django-environ-2 <https://github.com/sergeyklay/django-environ-2/graphs/contributors>`_ (current project)
* `django-environ <https://github.com/joke2k/django-environ/graphs/contributors>`__ (original project)


